<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Snap Framework Basics | Oliver Stollmann's sudo rm -rf /</title>
    <link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">
    <link href="http://o1iver.net/media/pygments.css" rel="stylesheet" type="text/css">
    <link href="/static/style.css" rel="stylesheet" type="text/css">
    <link rel="alternate" href="/feed.atom" title="Recent Blog Posts" type="application/atom+xml">
    <link rel="stylesheet" href="/static/_pygments.css" type="text/css">
</head>

<body>
    <div class="container">
        <div class="header">
            <span class="blogtitle">Oliver's Backward Induction</span>
        </div>
        <div class="navigation">[
            <a href="/">blog</a>, 
            <a href="/archive/">archive</a>, 
            <a href="/tags/">tags</a>,
            <a href="/feed.atom" rel="alternate" title="Oliver's Backward Induction - Recent Posts">feed</a>, 
            <a href="http://o1iver.net/">homepage</a>]
        </div>
        <div class="body">
  <h1 class="title">Snap Framework Basics</h1>

  

  <p>I usually develop in Python, although that has more to do with the languages look-and-feel than anything else. After almost ten years of progamming I have come to the conclusion that that is one of the most important aspects of a language. If you like static-typing use something like Java/C#, if you don't use Python or Ruby or whatever else you like. Anyway that doesn't really matter right now (although I might try to write down my thoughts about this some time). The thing is that a few months ago I first had a look at <a class="reference external" href="http://haskell.org">Haskell</a>.</p>
<p>Haskell is a beauty. If Java is a Volswagen Golf and Python a BMW M3, then Haskell is a Porsche Carrera GT, incredible, but hard to drive. The second I finally understood what Haskell was about, I knew that it was going to become my go-to language in the future (once I get it :-). So after dabbling around for a while I thought it was time to have a look at how suited Haskell is for web development and that is where the <a class="reference external" href="http://snapframework.com/">Snap Framework</a> comes into play. From the site:</p>
<p><em>Snap is a simple web development framework for unix systems, written in the Haskell programming language. Snap has a high level of test coverage and is well-documented.</em></p>
<p>Installation was very easy:</p>
<div class="highlight"><pre>cabal install snap
</pre></div>
<p>So below are a few simple examples that I am playing with to get a hang of the framework before I can build a real project with it (already have an idea for that).</p>
<div class="section" id="getting-the-request-method">
<h2>Getting the request method</h2>
<p>The first thing I tried to figure out was how to get information about the request. Here is a request handler that simply prints out a requests HTTP method. With this as a basis it becomes pretty obvious how to extract other information such as the request URI, headers, etc.</p>
<div class="highlight"><pre><span class="nf">methodHandler</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">methodStr</span> <span class="ow">&lt;-</span> <span class="p">(</span><span class="n">show</span> <span class="o">.</span> <span class="n">rqMethod</span><span class="p">)</span> <span class="o">&lt;$&gt;</span> <span class="n">getRequest</span>
    <span class="n">writeBS</span> <span class="o">$</span> <span class="kt">B</span><span class="o">.</span><span class="n">pack</span> <span class="p">(</span><span class="n">methodStr</span> <span class="o">++</span> <span class="p">[</span><span class="sc">&#39;</span><span class="se">\n</span><span class="sc">&#39;</span><span class="p">])</span>
</pre></div>
</div>


  
</div>
        <div class="footer">
            <p> &copy; Copyright 2011 Oliver Stollmann.
            <p> Contact me 
                <a href="http://o1iver.net/info.txt">directly</a> or via 
                <a href="http://facebook.com/stollmann">facebook</a>,   
                <a href="https://plus.google.com/117321259323890073987">google+</a>, 
                <a href="http://github.com/o1iver">github</a>, 
                <a href="http://bitbucket.org/o1iver">bitbucket</a>.
        </div>
    </div>
</body>
</html>


